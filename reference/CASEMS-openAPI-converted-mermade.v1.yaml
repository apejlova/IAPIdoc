openapi: 3.0.0
info:
  title: idport-case-ms-docker
  version: 1.3.0-SNAPSHOT
  contact:
    name: Monet+
    url: 'http://www.monetplus.cz'
paths:
  /v4/updatePushToken:
    post:
      summary: updatePushToken
      operationId: updatePushTokenUsingPOST
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePushTokenRequest'
        description: req
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdatePushTokenResponse'
      deprecated: false
      tags:
        - Instance management
  /v4/updateInstanceProperty:
    post:
      summary: updateInstanceProperty
      operationId: updateInstancePropertyUsingPOST
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateInstancePropertyRequest'
        description: req
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateInstancePropertyResponse'
      deprecated: false
      tags:
        - Instance management
  /v4/updateDeviceCertificate:
    post:
      summary: updateDeviceCertificate
      operationId: updateDeviceCertificateUsingPOST
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateDeviceCertificateRequest'
        description: req
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateDeviceCertificateResponse'
      deprecated: false
      tags:
        - Instance management
  /v4/rejectTransaction:
    post:
      summary: rejectTransaction
      operationId: rejectTransactionUsingPOST
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RejectTransactionRequest'
        description: req
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RejectTransactionResponse'
      deprecated: false
      tags:
        - Transaction processing
  /v4/ping:
    get:
      summary: ping
      operationId: pingUsingGET
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PingResponse'
      deprecated: false
  /v4/performAction:
    post:
      summary: performAction
      operationId: performActionUsingPOST
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PerformActionRequest'
        description: req
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PerformActionResponse'
      deprecated: false
      tags:
        - Instance management
  /v4/initiateInternalTransaction:
    post:
      summary: initiateInternalTransaction
      operationId: initiateInternalTransactionUsingPOST
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InitiateInternalTransactionRequest'
        description: req
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InitiateInternalTransactionResponse'
      deprecated: false
      tags:
        - Instance management
        - Transaction processing
  /v4/initiateActivation:
    post:
      summary: initiateActivation
      operationId: initiateActivationUsingPOST
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InitiateActivationRequest'
        description: req
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InitiateActivationResponse'
      deprecated: false
      tags:
        - Instance management
  /v4/getTransaction:
    post:
      summary: getTransaction
      operationId: getTransactionUsingPOST
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetTransactionRequest'
        description: req
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetTransactionResponse'
      deprecated: false
      tags:
        - Transaction processing
  /v4/getSystemProperty:
    post:
      summary: getSystemProperty
      operationId: getSystemPropertyUsingPOST
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetSystemPropertyRequest'
        description: req
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetSystemPropertyResponse'
      deprecated: false
      tags:
        - Instance management
  /v4/getPendingTransactions:
    post:
      summary: getPendingTransactions
      operationId: getPendingTransactionsUsingPOST
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetPendingTransactionsRequest'
        description: req
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetPendingTransactionsResponse'
      deprecated: false
      tags:
        - Transaction processing
  /v4/getInstancesCount:
    post:
      summary: getInstancesCount
      operationId: getInstancesCountUsingPOST
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetInstancesCountRequest'
        description: req
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetInstancesCountResponse'
      deprecated: false
      tags:
        - Instance management
  /v4/getInstanceProperty:
    post:
      summary: getInstanceProperty
      operationId: getInstancePropertyUsingPOST
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetInstancePropertyRequest'
        description: req
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetInstancePropertyResponse'
      deprecated: false
      tags:
        - Instance management
  /v4/deactivateInstance:
    post:
      summary: deactivateInstance
      operationId: deactivateInstanceUsingPOST
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeactivateMobileInstanceRequest'
        description: req
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeactivateMobileInstanceResponse'
      deprecated: false
      tags:
        - Instance management
  /v4/authorizeTransaction:
    post:
      summary: authorizeTransaction
      operationId: authorizeTransactionUsingPOST
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AuthorizeTransactionRequest'
        description: req
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthorizeTransactionResponse'
      deprecated: false
      tags:
        - Transaction processing
  /v4/activateInstance:
    post:
      tags:
        - Instance management
      summary: activateInstance
      operationId: activateInstanceUsingPOST
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ActivateMobileInstanceRequest'
        description: req
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ActivateMobileInstanceResponse'
      deprecated: false
components:
  schemas:
    ErrorData_object_:
      type: object
      properties:
        data:
          type: object
        wrapperName:
          type: string
      title: ErrorData«object»
    UpdatePushTokenResponse:
      type: object
      properties:
        result:
          $ref: '#/components/schemas/Result'
      title: UpdatePushTokenResponse
    UpdatePushTokenRequest:
      type: object
      properties:
        deviceInfo:
          $ref: '#/components/schemas/DeviceInfoRest'
        instanceId:
          type: string
        pushToken:
          type: string
        pushTokenType:
          type: string
          enum:
            - FIREBASE
            - VENDOR
        tenant:
          type: string
      title: UpdatePushTokenRequest
    UpdateInstancePropertyResponse:
      type: object
      properties:
        result:
          $ref: '#/components/schemas/Result'
      title: UpdateInstancePropertyResponse
    UpdateInstancePropertyRequest:
      type: object
      properties:
        deviceInfo:
          $ref: '#/components/schemas/DeviceInfoRest'
        instanceId:
          type: string
        property:
          type: string
        propertyValue:
          type: object
        tenant:
          type: string
      title: UpdateInstancePropertyRequest
    UpdateDeviceCertificateResponse:
      type: object
      properties:
        deviceCertificate:
          type: string
          format: byte
        result:
          $ref: '#/components/schemas/Result'
      title: UpdateDeviceCertificateResponse
    UpdateDeviceCertificateRequest:
      type: object
      properties:
        certificateRequest:
          type: string
          format: byte
        deviceInfo:
          $ref: '#/components/schemas/DeviceInfoRest'
        instanceId:
          type: string
        tenant:
          type: string
      title: UpdateDeviceCertificateRequest
    TransactionItem:
      type: object
      properties:
        authenticationMethods:
          type: string
        created:
          type: string
          format: date-time
        data:
          type: string
          format: byte
        expiration:
          type: string
          format: date-time
        id:
          type: string
          format: byte
        type:
          type: string
          enum:
            - ACTIVATION
            - PIN
            - NO_PIN
            - VERIFY_PIN
            - CHANGE_PIN
            - SENSITIVE_DATA_PIN
            - AUTHENTICATED_CALL
            - ALT_SECRET_ACTIVATION
            - INFORMATION_MESSAGE
            - PIN_ONLINE
            - PIN_OFFLINE
        verificationData:
          type: string
          format: byte
      title: TransactionItem
    Result:
      type: object
      properties:
        code:
          type: integer
          format: int32
        errorSpecificData:
          $ref: '#/components/schemas/ErrorData_object_'
        message:
          type: string
      title: Result
    RejectTransactionResponse:
      type: object
      properties:
        result:
          $ref: '#/components/schemas/Result'
      title: RejectTransactionResponse
    RejectTransactionRequest:
      type: object
      properties:
        deviceInfo:
          $ref: '#/components/schemas/DeviceInfoRest'
        instanceId:
          type: string
        rejectionReasonCode:
          type: integer
          format: int32
        rejectionReasonMessage:
          type: string
        tenant:
          type: string
        transactionId:
          type: string
          format: byte
      title: RejectTransactionRequest
    PingResult:
      type: object
      properties:
        code:
          type: integer
          format: int32
        detail:
          type: object
        resource:
          type: string
      title: PingResult
    PingResponse:
      type: object
      properties:
        code:
          type: integer
          format: int32
        data:
          $ref: '#/components/schemas/Data'
        message:
          type: string
        status:
          type: string
          enum:
            - success
            - fail
            - error
      title: PingResponse
    PerformActionResponse:
      type: object
      properties:
        contextSpecificData:
          $ref: '#/components/schemas/ContextData'
        result:
          $ref: '#/components/schemas/Result'
      title: PerformActionResponse
    PerformActionRequest:
      type: object
      properties:
        contextSpecificData:
          $ref: '#/components/schemas/ContextData'
        deviceInfo:
          $ref: '#/components/schemas/DeviceInfoRest'
        instanceId:
          type: string
        tenant:
          type: string
        userAction:
          type: string
      title: PerformActionRequest
    InitiateInternalTransactionResponse:
      type: object
      properties:
        result:
          $ref: '#/components/schemas/Result'
        transaction:
          $ref: '#/components/schemas/TransactionItem'
      title: InitiateInternalTransactionResponse
    InitiateInternalTransactionRequest:
      type: object
      properties:
        contextSpecificData:
          $ref: '#/components/schemas/ContextSpecificData'
        deviceInfo:
          $ref: '#/components/schemas/DeviceInfoRest'
        instanceId:
          type: string
        tenant:
          type: string
      title: InitiateInternalTransactionRequest
    InitiateActivationResponse:
      type: object
      properties:
        appData:
          type: object
          additionalProperties:
            type: string
        configuration:
          $ref: '#/components/schemas/Configuration'
        instanceId:
          type: string
        result:
          $ref: '#/components/schemas/Result'
      title: InitiateActivationResponse
    InitiateActivationRequest:
      type: object
      properties:
        deviceInfo:
          $ref: '#/components/schemas/DeviceInfoRest'
        instanceId:
          type: string
        nickname:
          type: string
        tenant:
          type: string
      title: InitiateActivationRequest
    GetTransactionResponse:
      type: object
      properties:
        result:
          $ref: '#/components/schemas/Result'
        transaction:
          $ref: '#/components/schemas/TransactionItem'
      title: GetTransactionResponse
    GetTransactionRequest:
      type: object
      properties:
        deviceInfo:
          $ref: '#/components/schemas/DeviceInfoRest'
        instanceId:
          type: string
        previewOnly:
          type: boolean
        tenant:
          type: string
        transactionId:
          type: string
          format: byte
      title: GetTransactionRequest
    GetSystemPropertyResponse:
      type: object
      properties:
        properties:
          type: object
        result:
          $ref: '#/components/schemas/Result'
      title: GetSystemPropertyResponse
    GetSystemPropertyRequest:
      type: object
      properties:
        deviceInfo:
          $ref: '#/components/schemas/DeviceInfoRest'
        instanceId:
          type: string
        property:
          type: array
          items:
            type: string
        tenant:
          type: string
      title: GetSystemPropertyRequest
    GetPendingTransactionsResponse:
      type: object
      properties:
        result:
          $ref: '#/components/schemas/Result'
        transactions:
          type: array
          items:
            $ref: '#/components/schemas/TransactionItem'
      title: GetPendingTransactionsResponse
    GetPendingTransactionsRequest:
      type: object
      properties:
        deviceInfo:
          $ref: '#/components/schemas/DeviceInfoRest'
        instanceId:
          type: string
        tenant:
          type: string
        transactionTypes:
          type: array
          items:
            type: string
            enum:
              - ACTIVATION
              - PIN
              - NO_PIN
              - VERIFY_PIN
              - CHANGE_PIN
              - SENSITIVE_DATA_PIN
              - AUTHENTICATED_CALL
              - ALT_SECRET_ACTIVATION
              - INFORMATION_MESSAGE
              - PIN_ONLINE
              - PIN_OFFLINE
      title: GetPendingTransactionsRequest
    GetInstancesCountResponse:
      type: object
      properties:
        count:
          type: integer
          format: int32
        result:
          $ref: '#/components/schemas/Result'
      title: GetInstancesCountResponse
    GetInstancesCountRequest:
      type: object
      properties:
        deviceInfo:
          $ref: '#/components/schemas/DeviceInfoRest'
        instanceId:
          type: string
        tenant:
          type: string
      title: GetInstancesCountRequest
    GetInstancePropertyResponse:
      type: object
      properties:
        properties:
          type: object
        result:
          $ref: '#/components/schemas/Result'
      title: GetInstancePropertyResponse
    GetInstancePropertyRequest:
      type: object
      properties:
        deviceInfo:
          $ref: '#/components/schemas/DeviceInfoRest'
        instanceId:
          type: string
        property:
          type: array
          items:
            type: string
        tenant:
          type: string
      title: GetInstancePropertyRequest
    DeviceInfoRest:
      type: object
      properties:
        appVersion:
          type: string
        authenticationMethods:
          type: string
        deviceManufacturer:
          type: string
        deviceModel:
          type: string
        flags:
          type: string
        geoLocation:
          type: string
        hwId:
          type: string
        osVersion:
          type: string
        platform:
          type: integer
          format: int32
      title: DeviceInfoRest
    DeactivateMobileInstanceResponse:
      type: object
      properties:
        result:
          $ref: '#/components/schemas/Result'
      title: DeactivateMobileInstanceResponse
    DeactivateMobileInstanceRequest:
      type: object
      properties:
        deviceInfo:
          $ref: '#/components/schemas/DeviceInfoRest'
        instanceId:
          type: string
        tenant:
          type: string
      title: DeactivateMobileInstanceRequest
    Data:
      type: object
      properties:
        details:
          type: array
          items:
            $ref: '#/components/schemas/PingResult'
      title: Data
    ContextSpecificData:
      type: object
      properties:
        appContextData:
          $ref: '#/components/schemas/AppContextData'
        businessContext:
          type: string
        encPinHashData:
          type: string
          format: byte
        secPublicKey:
          type: string
          format: byte
        type:
          type: string
          enum:
            - ACTIVATION
            - PIN
            - NO_PIN
            - VERIFY_PIN
            - CHANGE_PIN
            - SENSITIVE_DATA_PIN
            - AUTHENTICATED_CALL
            - ALT_SECRET_ACTIVATION
            - INFORMATION_MESSAGE
            - PIN_ONLINE
            - PIN_OFFLINE
      title: ContextSpecificData
    ContextData:
      type: object
      properties:
        activationCode:
          type: string
        appContextData:
          $ref: '#/components/schemas/AppData'
        encSecretData:
          type: string
          format: byte
        salt:
          type: string
          format: byte
        transaction:
          $ref: '#/components/schemas/TransactionItem'
      title: ContextData
    Configuration:
      type: object
      properties:
        algParams:
          type: object
        algType:
          type: string
      title: Configuration
    AuthorizeTransactionResponse:
      type: object
      properties:
        contextSpecificData:
          $ref: '#/components/schemas/ContextData'
        result:
          $ref: '#/components/schemas/Result'
      title: AuthorizeTransactionResponse
    AuthorizeTransactionRequest:
      type: object
      properties:
        authMethod:
          type: string
          enum:
            - PIN
            - FINGERPRINT
            - BIOMETRICS
            - NO_PIN
        contextSpecificData:
          $ref: '#/components/schemas/ContextSpecificData'
        deviceInfo:
          $ref: '#/components/schemas/DeviceInfoRest'
        instanceId:
          type: string
        tenant:
          type: string
        transactionDigest:
          type: string
          format: byte
        transactionId:
          type: string
          format: byte
        transactionSignature:
          type: string
          format: byte
        userAction:
          type: string
      title: AuthorizeTransactionRequest
    ApplicationData:
      type: object
      properties:
        activationType:
          type: integer
          format: int32
      title: ApplicationData
    AppData:
      type: object
      properties:
        CCDeliveryDestination:
          type: string
        CCDeliveryMethod:
          type: string
        chooseKeepInstancesAllowed:
          type: boolean
        choosePersonalPinRequired:
          type: boolean
        smsDeactivationInfo:
          type: boolean
      title: AppData
    AppContextData:
      type: object
      properties:
        keepInstances:
          type: boolean
      title: AppContextData
    ActivateMobileInstanceResponse:
      type: object
      properties:
        contextSpecificData:
          $ref: '#/components/schemas/ContextData'
        deviceCertificate:
          type: string
          format: byte
        encSecretData:
          type: string
          format: byte
        result:
          $ref: '#/components/schemas/Result'
        salt:
          type: string
          format: byte
        transaction:
          $ref: '#/components/schemas/TransactionItem'
      title: ActivateMobileInstanceResponse
    ActivateMobileInstanceRequest:
      type: object
      properties:
        activationCode:
          type: string
        authenticationMethods:
          type: array
          items:
            type: string
            enum:
              - PIN
              - FINGERPRINT
              - BIOMETRICS
              - NO_PIN
        certificateRequest:
          type: string
          format: byte
        deviceInfo:
          $ref: '#/components/schemas/DeviceInfoRest'
        friendlyName:
          type: string
        instanceId:
          type: string
        secPublicKey:
          type: string
          format: byte
        tenant:
          type: string
      title: ActivateMobileInstanceRequest
tags:
  - name: Instance management
    description: Instance activation and other support endpoints.
  - name: Transaction processing
    description: Downloading and verifying transactions.
servers:
  - url: '//localhost:8082'
